// Add growing guide URLs at the top of the file
export const growingGuides: Record<string, string> = {
  // Existing plants
  'Tomato': 'https://bloomagrows.com',
  'Pepper': 'https://bloomagrows.com',
  'Lettuce': 'https://bloomagrows.com',
  'Carrot': 'https://bloomagrows.com',
  'Kale': 'https://bloomagrows.com',
  'Spinach': 'https://bloomagrows.com',
  'Peas': 'https://bloomagrows.com',
  'Bean': 'https://bloomagrows.com',
  'Cucumber': 'https://bloomagrows.com',
  'Zucchini': 'https://bloomagrows.com',
  'Eggplant': 'https://bloomagrows.com',
  'Broccoli': 'https://bloomagrows.com',
  'Cauliflower': 'https://bloomagrows.com',
  'Cabbage': 'https://bloomagrows.com',
  'Brussels Sprout': 'https://bloomagrows.com',
  'Beets': 'https://bloomagrows.com',
  'Garlic': 'https://bloomagrows.com',
  'Sweet Potato': 'https://bloomagrows.com',
  'Corn': 'https://bloomagrows.com',
  'Okra': 'https://bloomagrows.com',
  'Black-Eyed Pea': 'https://bloomagrows.com',
  'Pigeon Pea': 'https://bloomagrows.com',
  'Taro': 'https://bloomagrows.com',
  'Cassava': 'https://bloomagrows.com',
  'Moringa': 'https://bloomagrows.com',
  'Lemongrass': 'https://bloomagrows.com',
  'Ginger': 'https://bloomagrows.com',
  'Turmeric': 'https://bloomagrows.com',
  'Marigold': 'https://bloomagrows.com',
  'Nasturtium': 'https://bloomagrows.com',
  'Borage': 'https://bloomagrows.com',
  'Calendula': 'https://bloomagrows.com',
  'Sunflower': 'https://bloomagrows.com',
  'Zinnia': 'https://bloomagrows.com',
  'Cosmos': 'https://bloomagrows.com',
  'Alyssum': 'https://bloomagrows.com',

  // New plants â€“ all use the same growing guide URL for now
  'Apple': 'https://bloomagrows.com',
  'Apricot': 'https://bloomagrows.com',
  'Artichoke': 'https://bloomagrows.com',
  'Arugula': 'https://bloomagrows.com',
  'Asparagus': 'https://bloomagrows.com',
  'Avocado': 'https://bloomagrows.com',
  'Barley': 'https://bloomagrows.com',
  'Bay Leaf': 'https://bloomagrows.com',
  'Black Bean': 'https://bloomagrows.com',
  'Blackberry': 'https://bloomagrows.com',
  'Blueberry': 'https://bloomagrows.com',
  'Bok Choy': 'https://bloomagrows.com',
  'Buckwheat': 'https://bloomagrows.com',
  'Caraway': 'https://bloomagrows.com',
  'Cardamom': 'https://bloomagrows.com',
  'Celery': 'https://bloomagrows.com',
  'Chanterelle': 'https://bloomagrows.com',
  'Chard': 'https://bloomagrows.com',
  'Cherry': 'https://bloomagrows.com',
  'Cherry Tomato': 'https://bloomagrows.com',
  'Chickpea': 'https://bloomagrows.com',
  'Chili': 'https://bloomagrows.com',
  'Chinese Cabbage': 'https://bloomagrows.com',
  'Chive': 'https://bloomagrows.com',
  'Cinnamon': 'https://bloomagrows.com',
  'Clove': 'https://bloomagrows.com',
  'Coconut': 'https://bloomagrows.com',
  'Collard': 'https://bloomagrows.com',
  'Currant': 'https://bloomagrows.com',
  'Custard Apple': 'https://bloomagrows.com',
  'Dill': 'https://bloomagrows.com',
  'Endive': 'https://bloomagrows.com',
  'Fennel': 'https://bloomagrows.com',
  'Fig': 'https://bloomagrows.com',
  'Grapefruit': 'https://bloomagrows.com',
  'Grape': 'https://bloomagrows.com',
  'Green Bean': 'https://bloomagrows.com',
  'Green Pea': 'https://bloomagrows.com',
  'Green Pepper': 'https://bloomagrows.com',
  'Juniper': 'https://bloomagrows.com',
  'Kidney Bean': 'https://bloomagrows.com',
  'Kiwi': 'https://bloomagrows.com',
  'Kohlrabi': 'https://bloomagrows.com',
  'Leek': 'https://bloomagrows.com',
  'Lemon': 'https://bloomagrows.com',
  'Lentil': 'https://bloomagrows.com',
  'Lime': 'https://bloomagrows.com',
  'Lychee': 'https://bloomagrows.com',
  'Mache': 'https://bloomagrows.com',
  'Mango': 'https://bloomagrows.com',
  'Medlar': 'https://bloomagrows.com',
  'Melon': 'https://bloomagrows.com',
  'Millet': 'https://bloomagrows.com',
  'Morel': 'https://bloomagrows.com',
  'Mung Bean': 'https://bloomagrows.com',
  'Oyster Mushroom': 'https://bloomagrows.com',
  'Mustard': 'https://bloomagrows.com',
  'Nutmeg': 'https://bloomagrows.com',
  'Oatmeal': 'https://bloomagrows.com',
  'Olive': 'https://bloomagrows.com',
  'Other': 'https://bloomagrows.com',
  'Orange': 'https://bloomagrows.com',
  'Paprika': 'https://bloomagrows.com',
  'Peach': 'https://bloomagrows.com',
  'Pear': 'https://bloomagrows.com',
  'Pineapple': 'https://bloomagrows.com',
  'Pinto Bean': 'https://bloomagrows.com',
  'Plum': 'https://bloomagrows.com',
  'Pomegranate': 'https://bloomagrows.com',
  'Porcini': 'https://bloomagrows.com',
  'Portobello': 'https://bloomagrows.com',
  'Potato': 'https://bloomagrows.com',
  'Pumpkin': 'https://bloomagrows.com',
  'Quinoa': 'https://bloomagrows.com',
  'Raspberry': 'https://bloomagrows.com',
  'Red Cabbage': 'https://bloomagrows.com',
  'Red Pepper': 'https://bloomagrows.com',
  'Rice': 'https://bloomagrows.com',
  'Rye': 'https://bloomagrows.com',
  'Saffron': 'https://bloomagrows.com',
  'Shallot': 'https://bloomagrows.com',
  'Shiitake': 'https://bloomagrows.com',
  'Sorghum': 'https://bloomagrows.com',
  'Spring Onion': 'https://bloomagrows.com',
  'Star Anise': 'https://bloomagrows.com',
  'Star Apple': 'https://bloomagrows.com',
  'Soybean': 'https://bloomagrows.com',
  'Tangerine': 'https://bloomagrows.com',
  'Tarragon': 'https://bloomagrows.com',
  'Truffle': 'https://bloomagrows.com',
  'Turnip': 'https://bloomagrows.com',
  'Vanilla': 'https://bloomagrows.com',
  'Vetch': 'https://bloomagrows.com',
  'Wasabi': 'https://bloomagrows.com',
  'Watercress': 'https://bloomagrows.com',
  'Watermelon': 'https://bloomagrows.com',
  'Wheat': 'https://bloomagrows.com',
  'White Bean': 'https://bloomagrows.com',
  'White Button Mushroom': 'https://bloomagrows.com',
  'White Lupine': 'https://bloomagrows.com',
  'Yellow Pepper': 'https://bloomagrows.com',
  'Yucca': 'https://bloomagrows.com'
};

export const plantCategories: Record<string, string[]> = {
  "Common Vegetables": [
    "Tomato",
    "Pepper",
    "Cucumber",
    "Zucchini",
    "Eggplant",
    "Broccoli",
    "Cauliflower",
    "Cabbage",
    "Brussels Sprout",
    "Corn",
    "Artichoke",
    "Asparagus",
    "Celery",
    "Chili",
    "Chinese Cabbage",
    "Fennel",
    "Paprika",
    "Pumpkin",
    "Red Cabbage",
    "Red Pepper",
    "Yellow Pepper",
    "Green Pepper",
    "Cherry Tomato"
  ],
  "Leafy Greens": [
    "Lettuce",
    "Kale",
    "Spinach",
    "Swiss Chard",
    "Malabar Spinach",
    "Arugula",
    "Bok Choy",
    "Collard",
    "Mustard",
    "Mache",
    "Watercress",
    "Endive"
  ],
  "Root Vegetables": [
    "Carrot",
    "Beet",
    "Radish",
    "Onion",
    "Garlic",
    "Ginger",
    "Turmeric",
    "Taro",
    "Jicama",
    "Yuca",
    "Kohlrabi",
    "Leek",
    "Shallot",
    "Potato",
    "Turnip"
  ],
  "Tropical Vegetables": [
    "Okra",
    "Black-Eyed Pea",
    "Pigeon Pea",
    "Cassava",
    "Moringa",
    "Chayote",
    "Bitter Melon"
  ],
  "Fruits": [
    "Strawberry",
    "Dragon Fruit",
    "Passion Fruit",
    "Guava",
    "Papaya",
    "Banana",
    "Citrus",
    "Apple",
    "Apricot",
    "Avocado",
    "Blackberry",
    "Blueberry",
    "Cherry",
    "Coconut",
    "Currant",
    "Custard Apple",
    "Fig",
    "Grapefruit",
    "Grape",
    "Kiwi",
    "Lemon",
    "Lime",
    "Lychee",
    "Mango",
    "Medlar",
    "Melon",
    "Olive",
    "Orange",
    "Peach",
    "Pear",
    "Pineapple",
    "Plum",
    "Pomegranate",
    "Raspberry",
    "Star Apple",
    "Tangerine",
    "Watermelon"
  ],
  "Herbs & Aromatics": [
    "Basil",
    "Oregano",
    "Thyme",
    "Sage",
    "Rosemary",
    "Lemongrass",
    "Mint",
    "Cilantro",
    "Parsley",
    "Dill",
    "Tarragon",
    "Chive",
    "Bay Leaf"
  ],
  "Legumes": [
    "Peas",
    "Bean",
    "Chickpea",
    "Black Bean",
    "Kidney Bean",
    "Green Bean",
    "Green Pea",
    "Lentil",
    "Mung Bean",
    "Pinto Bean",
    "Soybean",
    "White Bean",
    "Vetch",
    "White Lupine"
  ],
  "Grains & Cereals": [
    "Barley",
    "Buckwheat",
    "Millet",
    "Oatmeal",
    "Rice",
    "Rye",
    "Sorghum",
    "Wheat",
    "Quinoa"
  ],
  "Spices & Seasonings": [
    "Caraway",
    "Cardamom",
    "Cinnamon",
    "Clove",
    "Nutmeg",
    "Saffron",
    "Star Anise",
    "Vanilla",
    "Juniper",
    "Wasabi"
  ],
  "Mushrooms & Fungi": [
    "Chanterelle",
    "Morel",
    "Oyster Mushroom",
    "Shiitake",
    "Portobello",
    "White Button Mushroom",
    "Porcini",
    "Truffle"
  ],
  "Flowers & Companion Plants": [
    "Marigold",
    "Nasturtium",
    "Borage",
    "Calendula",
    "Sunflower",
    "Zinnia",
    "Cosmos",
    "Alyssum"
  ],
  "Other": [
    "Other",
    "Yucca"
  ]
};

// Consolidated plant data
export interface PlantData {
  spacing: number;  // in inches
  height: number;   // in inches
  sunRequirement: 'full' | 'partial' | 'shade';
  zones: string;    // e.g., "4-11"
}

export const plantData: Record<string, PlantData> = {
  // Vegetables
  'Tomato': { spacing: 24, height: 72, sunRequirement: 'full', zones: '4-11' },
  'Pepper': { spacing: 18, height: 36, sunRequirement: 'full', zones: '5-10' },
  'Lettuce': { spacing: 6, height: 12, sunRequirement: 'partial', zones: '3-10' },
  'Carrot': { spacing: 3, height: 12, sunRequirement: 'full', zones: '3-10' },
  'Kale': { spacing: 12, height: 24, sunRequirement: 'full', zones: '3-11' },
  'Spinach': { spacing: 6, height: 12, sunRequirement: 'partial', zones: '3-10' },
  'Peas': { spacing: 3, height: 72, sunRequirement: 'full', zones: '3-10' },
  'Bean': { spacing: 4, height: 72, sunRequirement: 'full', zones: '4-10' },
  'Cucumber': { spacing: 12, height: 12, sunRequirement: 'full', zones: '4-11' },
  'Zucchini': { spacing: 36, height: 24, sunRequirement: 'full', zones: '4-11' },
  'Eggplant': { spacing: 24, height: 36, sunRequirement: 'full', zones: '5-10' },
  'Broccoli': { spacing: 18, height: 24, sunRequirement: 'full', zones: '3-10' },
  'Cauliflower': { spacing: 24, height: 24, sunRequirement: 'full', zones: '3-10' },
  'Cabbage': { spacing: 24, height: 18, sunRequirement: 'full', zones: '3-10' },
  'Brussels Sprout': { spacing: 24, height: 36, sunRequirement: 'full', zones: '3-9' },
  'Beets': { spacing: 4, height: 18, sunRequirement: 'full', zones: '3-10' },
  'Garlic': { spacing: 6, height: 24, sunRequirement: 'full', zones: '3-9' },
  'Sweet Potato': { spacing: 12, height: 12, sunRequirement: 'full', zones: '8-11' },
  'Corn': { spacing: 12, height: 96, sunRequirement: 'full', zones: '4-10' },

  // Tropical Vegetables
  'Okra': { spacing: 18, height: 72, sunRequirement: 'full', zones: '6-11' },
  'Black-Eyed Pea': { spacing: 4, height: 24, sunRequirement: 'full', zones: '6-11' },
  'Pigeon Pea': { spacing: 36, height: 72, sunRequirement: 'full', zones: '9-11' },
  'Taro': { spacing: 24, height: 36, sunRequirement: 'partial', zones: '10-11' },
  'Cassava': { spacing: 36, height: 96, sunRequirement: 'full', zones: '10-11' },
  'Moringa': { spacing: 96, height: 240, sunRequirement: 'full', zones: '10-11' },
  'Lemongrass': { spacing: 24, height: 48, sunRequirement: 'full', zones: '9-11' },
  'Ginger': { spacing: 12, height: 36, sunRequirement: 'partial', zones: '9-11' },
  'Turmeric': { spacing: 12, height: 36, sunRequirement: 'partial', zones: '10-11' },

  // Fruits
  'Strawberry': { spacing: 12, height: 8, sunRequirement: 'full', zones: '3-10' },
  'Dragon Fruit': { spacing: 72, height: 180, sunRequirement: 'full', zones: '10-11' },
  'Passion Fruit': { spacing: 72, height: 180, sunRequirement: 'full', zones: '10-11' },
  'Guava': { spacing: 96, height: 180, sunRequirement: 'full', zones: '10-11' },
  'Papaya': { spacing: 72, height: 180, sunRequirement: 'full', zones: '10-11' },
  'Banana': { spacing: 72, height: 180, sunRequirement: 'partial', zones: '10-11' },
  'Citrus': { spacing: 120, height: 180, sunRequirement: 'full', zones: '9-11' },

  // Herbs
  'Basil': { spacing: 12, height: 24, sunRequirement: 'full', zones: '4-10' },
  'Oregano': { spacing: 12, height: 24, sunRequirement: 'full', zones: '5-9' },
  'Thyme': { spacing: 12, height: 12, sunRequirement: 'full', zones: '5-9' },
  'Sage': { spacing: 18, height: 30, sunRequirement: 'full', zones: '5-9' },
  'Rosemary': { spacing: 24, height: 48, sunRequirement: 'full', zones: '8-10' },
  'Mint': { spacing: 18, height: 24, sunRequirement: 'partial', zones: '3-10' },
  'Cilantro': { spacing: 6, height: 24, sunRequirement: 'partial', zones: '4-9' },
  'Parsley': { spacing: 6, height: 12, sunRequirement: 'partial', zones: '4-9' },

  // Flowers & Companion Plants
  'Marigold': { spacing: 6, height: 12, sunRequirement: 'full', zones: '4-10' },
  'Nasturtium': { spacing: 12, height: 12, sunRequirement: 'full', zones: '4-10' },
  'Borage': { spacing: 18, height: 30, sunRequirement: 'full', zones: '4-10' },
  'Calendula': { spacing: 12, height: 24, sunRequirement: 'full', zones: '4-10' },
  'Sunflower': { spacing: 24, height: 120, sunRequirement: 'full', zones: '4-10' },
  'Zinnia': { spacing: 12, height: 36, sunRequirement: 'full', zones: '4-10' },
  'Cosmos': { spacing: 12, height: 48, sunRequirement: 'full', zones: '4-10' },
  'Alyssum': { spacing: 6, height: 6, sunRequirement: 'partial', zones: '4-10' },

  // Additional Plants
  'Apple': { spacing: 120, height: 240, sunRequirement: 'full', zones: '4-8' },
  'Apricot': { spacing: 96, height: 180, sunRequirement: 'full', zones: '5-9' },
  'Artichoke': { spacing: 24, height: 36, sunRequirement: 'full', zones: '7-10' },
  'Arugula': { spacing: 4, height: 8, sunRequirement: 'partial', zones: '3-10' },
  'Asparagus': { spacing: 18, height: 36, sunRequirement: 'full', zones: '3-8' },
  'Avocado': { spacing: 96, height: 240, sunRequirement: 'full', zones: '9-11' },
  'Barley': { spacing: 6, height: 36, sunRequirement: 'full', zones: '3-9' },
  'Bay Leaf': { spacing: 36, height: 120, sunRequirement: 'full', zones: '8-10' },
  'Black Bean': { spacing: 4, height: 36, sunRequirement: 'full', zones: '4-9' },
  'Blackberry': { spacing: 36, height: 60, sunRequirement: 'full', zones: '5-10' },
  'Blueberry': { spacing: 36, height: 48, sunRequirement: 'full', zones: '3-8' },
  'Bok Choy': { spacing: 6, height: 12, sunRequirement: 'partial', zones: '3-10' },
  'Buckwheat': { spacing: 6, height: 24, sunRequirement: 'full', zones: '3-9' },
  'Caraway': { spacing: 6, height: 18, sunRequirement: 'full', zones: '4-9' },
  'Cardamom': { spacing: 12, height: 24, sunRequirement: 'partial', zones: '10-11' },
  'Celery': { spacing: 6, height: 18, sunRequirement: 'partial', zones: '3-9' },
  'Chanterelle': { spacing: 0, height: 2, sunRequirement: 'shade', zones: 'N/A' },
  'Chard': { spacing: 12, height: 18, sunRequirement: 'partial', zones: '3-10' },
  'Cherry': { spacing: 96, height: 240, sunRequirement: 'full', zones: '4-8' },
  'Cherry Tomato': { spacing: 18, height: 36, sunRequirement: 'full', zones: '4-10' },
  'Chickpea': { spacing: 6, height: 24, sunRequirement: 'full', zones: '6-10' },
  'Chili': { spacing: 18, height: 30, sunRequirement: 'full', zones: '5-10' },
  'Chinese Cabbage': { spacing: 12, height: 18, sunRequirement: 'partial', zones: '4-10' },
  'Chive': { spacing: 6, height: 12, sunRequirement: 'partial', zones: '3-10' },
  'Cinnamon': { spacing: 60, height: 120, sunRequirement: 'full', zones: '10-11' },
  'Clove': { spacing: 60, height: 120, sunRequirement: 'full', zones: '10-11' },
  'Coconut': { spacing: 96, height: 240, sunRequirement: 'full', zones: '10-11' },
  'Collard': { spacing: 18, height: 36, sunRequirement: 'full', zones: '4-10' },
  'Currant': { spacing: 36, height: 48, sunRequirement: 'full', zones: '3-8' },
  'Custard Apple': { spacing: 48, height: 120, sunRequirement: 'full', zones: '10-11' },
  'Dill': { spacing: 6, height: 24, sunRequirement: 'partial', zones: '4-9' },
  'Endive': { spacing: 6, height: 12, sunRequirement: 'partial', zones: '3-10' },
  'Fennel': { spacing: 12, height: 36, sunRequirement: 'full', zones: '4-10' },
  'Fig': { spacing: 96, height: 180, sunRequirement: 'full', zones: '8-10' },
  'Grapefruit': { spacing: 96, height: 240, sunRequirement: 'full', zones: '9-11' },
  'Grape': { spacing: 24, height: 60, sunRequirement: 'full', zones: '5-9' },
  'Green Bean': { spacing: 4, height: 36, sunRequirement: 'full', zones: '4-10' },
  'Green Pea': { spacing: 3, height: 72, sunRequirement: 'full', zones: '3-10' },
  'Green Pepper': { spacing: 18, height: 36, sunRequirement: 'full', zones: '5-10' },
  'Juniper': { spacing: 48, height: 120, sunRequirement: 'full', zones: '4-9' },
  'Kidney Bean': { spacing: 4, height: 36, sunRequirement: 'full', zones: '4-9' },
  'Kiwi': { spacing: 72, height: 120, sunRequirement: 'full', zones: '7-10' },
  'Kohlrabi': { spacing: 6, height: 12, sunRequirement: 'full', zones: '3-10' },
  'Leek': { spacing: 4, height: 24, sunRequirement: 'full', zones: '3-10' },
  'Lemon': { spacing: 96, height: 240, sunRequirement: 'full', zones: '9-11' },
  'Lentil': { spacing: 3, height: 12, sunRequirement: 'full', zones: '3-10' },
  'Lime': { spacing: 96, height: 240, sunRequirement: 'full', zones: '9-11' },
  'Lychee': { spacing: 96, height: 240, sunRequirement: 'full', zones: '10-11' },
  'Mache': { spacing: 4, height: 8, sunRequirement: 'partial', zones: '3-10' },
  'Mango': { spacing: 96, height: 240, sunRequirement: 'full', zones: '10-11' },
  'Medlar': { spacing: 96, height: 180, sunRequirement: 'full', zones: '5-9' },
  'Melon': { spacing: 36, height: 24, sunRequirement: 'full', zones: '4-10' },
  'Millet': { spacing: 6, height: 24, sunRequirement: 'full', zones: '3-9' },
  'Morel': { spacing: 0, height: 2, sunRequirement: 'shade', zones: 'N/A' },
  'Mung Bean': { spacing: 3, height: 12, sunRequirement: 'full', zones: '4-10' },
  'Oyster Mushroom': { spacing: 0, height: 2, sunRequirement: 'shade', zones: 'N/A' },
  'Mustard': { spacing: 4, height: 12, sunRequirement: 'full', zones: '3-10' },
  'Nutmeg': { spacing: 60, height: 120, sunRequirement: 'full', zones: '10-11' },
  'Oatmeal': { spacing: 6, height: 36, sunRequirement: 'full', zones: '3-9' },
  'Olive': { spacing: 96, height: 180, sunRequirement: 'full', zones: '8-10' },
  'Other': { spacing: 0, height: 0, sunRequirement: 'full', zones: '' },
  'Orange': { spacing: 96, height: 240, sunRequirement: 'full', zones: '9-11' },
  'Paprika': { spacing: 18, height: 36, sunRequirement: 'full', zones: '5-10' },
  'Peach': { spacing: 96, height: 240, sunRequirement: 'full', zones: '5-9' },
  'Pear': { spacing: 96, height: 240, sunRequirement: 'full', zones: '4-8' },
  'Pineapple': { spacing: 36, height: 24, sunRequirement: 'full', zones: '10-11' },
  'Pinto Bean': { spacing: 4, height: 36, sunRequirement: 'full', zones: '4-9' },
  'Plum': { spacing: 96, height: 240, sunRequirement: 'full', zones: '5-9' },
  'Pomegranate': { spacing: 60, height: 180, sunRequirement: 'full', zones: '8-10' },
  'Porcini': { spacing: 0, height: 2, sunRequirement: 'shade', zones: 'N/A' },
  'Portobello': { spacing: 0, height: 2, sunRequirement: 'shade', zones: 'N/A' },
  'Potato': { spacing: 12, height: 12, sunRequirement: 'full', zones: '3-10' },
  'Pumpkin': { spacing: 48, height: 24, sunRequirement: 'full', zones: '4-10' },
  'Quinoa': { spacing: 6, height: 24, sunRequirement: 'full', zones: '3-9' },
  'Raspberry': { spacing: 36, height: 48, sunRequirement: 'full', zones: '3-9' },
  'Red Cabbage': { spacing: 18, height: 18, sunRequirement: 'full', zones: '3-10' },
  'Red Pepper': { spacing: 18, height: 36, sunRequirement: 'full', zones: '5-10' },
  'Rice': { spacing: 6, height: 36, sunRequirement: 'full', zones: '4-9' },
  'Rye': { spacing: 6, height: 36, sunRequirement: 'full', zones: '3-9' },
  'Saffron': { spacing: 4, height: 6, sunRequirement: 'full', zones: '5-8' },
  'Shallot': { spacing: 4, height: 12, sunRequirement: 'full', zones: '3-10' },
  'Shiitake': { spacing: 0, height: 2, sunRequirement: 'shade', zones: 'N/A' },
  'Sorghum': { spacing: 6, height: 48, sunRequirement: 'full', zones: '4-9' },
  'Spring Onion': { spacing: 4, height: 12, sunRequirement: 'full', zones: '3-10' },
  'Star Anise': { spacing: 60, height: 120, sunRequirement: 'full', zones: '10-11' },
  'Star Apple': { spacing: 48, height: 120, sunRequirement: 'full', zones: '10-11' },
  'Soybean': { spacing: 4, height: 36, sunRequirement: 'full', zones: '4-9' },
  'Tangerine': { spacing: 96, height: 240, sunRequirement: 'full', zones: '9-11' },
  'Tarragon': { spacing: 12, height: 24, sunRequirement: 'full', zones: '5-9' },
  'Truffle': { spacing: 0, height: 0, sunRequirement: 'shade', zones: 'N/A' },
  'Turnip': { spacing: 4, height: 12, sunRequirement: 'full', zones: '3-10' },
  'Vanilla': { spacing: 24, height: 36, sunRequirement: 'partial', zones: '10-11' },
  'Vetch': { spacing: 3, height: 24, sunRequirement: 'full', zones: '3-9' },
  'Wasabi': { spacing: 12, height: 12, sunRequirement: 'partial', zones: '8-11' },
  'Watercress': { spacing: 4, height: 12, sunRequirement: 'partial', zones: '4-10' },
  'Watermelon': { spacing: 48, height: 24, sunRequirement: 'full', zones: '4-10' },
  'Wheat': { spacing: 6, height: 36, sunRequirement: 'full', zones: '3-9' },
  'White Bean': { spacing: 4, height: 36, sunRequirement: 'full', zones: '4-9' },
  'White Button Mushroom': { spacing: 0, height: 2, sunRequirement: 'shade', zones: 'N/A' },
  'White Lupine': { spacing: 4, height: 24, sunRequirement: 'full', zones: '4-9' },
  'Yellow Pepper': { spacing: 18, height: 36, sunRequirement: 'full', zones: '5-10' },
  'Yucca': { spacing: 24, height: 60, sunRequirement: 'full', zones: '6-10' }
};

// Helper functions to access the consolidated data
export const plantSpacing = Object.fromEntries(
  Object.entries(plantData).map(([name, data]) => [name, data.spacing])
);

export const plantHeights = Object.fromEntries(
  Object.entries(plantData).map(([name, data]) => [name, data.height])
);

export const sunRequirements = Object.fromEntries(
  Object.entries(plantData).map(([name, data]) => [name, data.sunRequirement])
);

// Fallback companion plant data when AI is unavailable
export const companionPlantPairs: Record<string, string[]> = {
  'Tomato': ['Basil', 'Marigold', 'Carrot', 'Onion', 'Parsley'],
  'Basil': ['Tomato', 'Pepper', 'Oregano', 'Marigold'],
  'Lettuce': ['Carrot', 'Radish', 'Onion', 'Strawberry', 'Chives'],
  'Pepper': ['Basil', 'Onion', 'Carrot', 'Marigold'],
  'Carrot': ['Tomato', 'Onion', 'Sage', 'Rosemary', 'Chives'],
  'Herbs': ['Tomato', 'Pepper', 'Lettuce', 'Strawberry'],
  'Kale': ['Herbs', 'Marigold', 'Nasturtium', 'Onion'],
  'Spinach': ['Strawberry', 'Peas', 'Onion', 'Radish'],
  'Peas': ['Carrot', 'Radish', 'Spinach', 'Herbs'],
  'Bean': ['Carrot', 'Cauliflower', 'Cabbage', 'Marigold'],
  'Cucumber': ['Sunflower', 'Nasturtium', 'Radish', 'Marigold'],
  'Zucchini': ['Nasturtium', 'Oregano', 'Borage', 'Bean'],
  'Eggplant': ['Bean', 'Marigold', 'Thyme', 'Borage'],
  'Broccoli': ['Onion', 'Sage', 'Rosemary', 'Thyme'],
  'Cauliflower': ['Bean', 'Sage', 'Thyme', 'Rosemary'],
  'Cabbage': ['Herbs', 'Onion', 'Sage', 'Thyme'],
  'Brussels Sprout': ['Sage', 'Thyme', 'Onion', 'Marigold'],
  'Beets': ['Onion', 'Lettuce', 'Cabbage', 'Herbs'],
  'Garlic': ['Tomato', 'Beets', 'Lettuce', 'Strawberry'],
  'Strawberry': ['Lettuce', 'Spinach', 'Thyme', 'Borage'],
  'Sweet Potato': ['Oregano', 'Thyme', 'Marigold', 'Nasturtium'],
  'Okra': ['Sweet Potato', 'Pepper', 'Basil', 'Marigold'],
  'Black-Eyed Pea': ['Sweet Corn', 'Okra', 'Rosemary', 'Marigold'],
  'Pigeon Pea': ['Corn', 'Sweet Potato', 'Cassava', 'Marigold'],
  'Taro': ['Sweet Potato', 'Pigeon Pea', 'Lemongrass', 'Cassava'],
  'Cassava': ['Pigeon Pea', 'Sweet Potato', 'Marigold', 'Lemongrass'],
  'Moringa': ['Sweet Potato', 'Pigeon Pea', 'Herbs', 'Marigold'],
  'Lemongrass': ['Citrus', 'Herbs', 'Marigold', 'Nasturtium'],
  'Ginger': ['Turmeric', 'Lemongrass', 'Taro', 'Sweet Potato'],
  'Turmeric': ['Ginger', 'Lemongrass', 'Taro', 'Cassava'],
  'Malanga': ['Taro', 'Sweet Potato', 'Cassava', 'Pigeon Pea'],
  'Chayote': ['Corn', 'Bean', 'Sweet Potato', 'Marigold'],
  'Bitter Melon': ['Corn', 'Okra', 'Sweet Potato', 'Marigold'],
  'Malabar Spinach': ['Sweet Potato', 'Okra', 'Herbs', 'Marigold'],
  'Jicama': ['Corn', 'Bean', 'Sweet Potato', 'Marigold'],
  'Yuca': ['Pigeon Pea', 'Sweet Potato', 'Marigold', 'Herbs']
};

export function getLocalCompanionPlants(selectedPlants: string[]): string[] {
  const suggestions = new Set<string>();
  
  selectedPlants.forEach(plant => {
    const companions = companionPlantPairs[plant] || [];
    companions.forEach(companion => {
      if (!selectedPlants.includes(companion)) {
        suggestions.add(companion);
      }
    });
  });
  
  return Array.from(suggestions).slice(0, 3);
}

export function generateLocalLayout(plants: string[], width: number, height: number) {
  // Convert dimensions to inches
  const widthInches = width * 12;
  const heightInches = height * 12;
  
  // Calculate total garden area in square inches
  const totalArea = widthInches * heightInches;
  const targetMainArea = totalArea * 0.8; // 80% for main crops
  
  // Sort plants by height (tallest first) to ensure proper sun exposure
  const sortedPlants = [...plants].sort((a, b) => 
    (plantHeights[b] || 24) - (plantHeights[a] || 24)
  );
  
  const layout = [];
  const grid = Array(heightInches).fill(null).map(() => Array(widthInches).fill(false));
  let occupiedArea = 0;
  
  // Place main plants from tallest to shortest
  for (const plantName of sortedPlants) {
    const spacing = plantSpacing[plantName] || 12;
    const height = plantHeights[plantName] || 24;
    const sunReq = sunRequirements[plantName] || 'full';
    
    // For full sun plants, prefer the north side of the garden
    const startY = sunReq === 'full' ? 0 : heightInches - spacing;
    const yIncrement = sunReq === 'full' ? spacing : -spacing;
    
    // Keep placing instances of this plant until we reach the area ratio or can't fit more
    while (occupiedArea < targetMainArea) {
      let placed = false;
      
      // Try to find a suitable spot
      for (let y = startY; 
           sunReq === 'full' ? y <= heightInches - spacing : y >= 0; 
           y += yIncrement) {
        for (let x = 0; x <= widthInches - spacing; x += spacing) {
          if (isSpaceAvailable(grid, x, y, spacing)) {
            markSpaceAsOccupied(grid, x, y, spacing);
            occupiedArea += spacing * spacing;
            
            layout.push({
              plant: {
                id: `plant-${layout.length}`,
                name: plantName,
                scientificName: 'Placeholder',
                spacing,
                height,
                sunRequirement: sunReq,
                wateringNeeds: 'moderate',
                seasonality: ['spring', 'summer'],
                daysToMaturity: 60,
                companionPlants: []
              },
              x,
              y
            });
            placed = true;
            break;
          }
        }
        if (placed) break;
      }
      
      if (!placed) break; // If we couldn't place this plant, move to the next type
    }
    
    if (occupiedArea >= targetMainArea) break;
  }
  
  // Fill remaining space with supporting plants for pollinators and soil health
  const supportingPlants = [
    'Marigold',
    'Nasturtium',
    'Borage',
    'Oregano',
    'Thyme',
    'Sage',
    'Lavender',
    'Chives',
    'Dill',
    'Cilantro',
    'Parsley',
    'Fennel',
    'Chamomile',
    'Calendula',
    'Lemon Balm',
    'Mint'
  ];
  
  const gridSize = 6; // Use 6-inch grid for supporting plants
  for (let y = 0; y < heightInches; y += gridSize) {
    for (let x = 0; x < widthInches; x += gridSize) {
      if (isSpaceAvailable(grid, x, y, gridSize)) {
        const randomPlant = supportingPlants[Math.floor(Math.random() * supportingPlants.length)];
        const spacing = Math.min(plantSpacing[randomPlant] || 6, 12); // Limit supporting plant spacing
        
        if (isSpaceAvailable(grid, x, y, spacing)) {
          markSpaceAsOccupied(grid, x, y, spacing);
          layout.push({
            plant: {
              id: `support-${layout.length}`,
              name: randomPlant,
              scientificName: 'Placeholder',
              spacing,
              height: plantHeights[randomPlant] || 12,
              sunRequirement: sunRequirements[randomPlant] || 'partial',
              wateringNeeds: 'moderate',
              seasonality: ['spring', 'summer'],
              daysToMaturity: 30,
              companionPlants: []
            },
            x,
            y
          });
        }
      }
    }
  }
  
  return layout;
}

function isSpaceAvailable(grid: boolean[][], x: number, y: number, spacing: number): boolean {
  if (x + spacing > grid[0].length || y + spacing > grid.length) {
    return false;
  }
  
  for (let i = y; i < y + spacing; i++) {
    for (let j = x; j < x + spacing; j++) {
      if (grid[i][j]) return false;
    }
  }
  return true;
}

function markSpaceAsOccupied(grid: boolean[][], x: number, y: number, spacing: number): void {
  for (let i = y; i < y + spacing && i < grid.length; i++) {
    for (let j = x; j < x + spacing && j < grid[0].length; j++) {
      grid[i][j] = true;
    }
  }
}